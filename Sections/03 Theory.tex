\section{Theory}

\subsection{ATO}
Automatic Train Operation (ATO) describes systems that automate driving tasks normally performed by a human driver. ATO implementation range from assisting the driver with speed guidance, optimized speed profiles and other information to fully unattended operation where starting, cruising, stopping and door control are automatic. The primary goals are improved punctuality, energy efficiency and safe, repeatable performance \cite{milroy1980aspects}. In freight-specific research such as the ATO-Cargo project, ATO is combined with existing train protection systems (for example ETCS Level~2) and a Remote Supervision and Control Centre (RSC) to allow remote human oversight and intervention during degraded operation or faults \cite{dlr2025atocargo}. 

\subsection{GoA}
The Grade of Automation (GoA) classifies how much of the train operation is automated. Standards such as IEC 62290 and industry reports \cite{cbtc_goa} describe the commonly used levels from GoA~0 to GoA~4. The table below summarises the practical meaning of each level.

\import{./Tables/}{GoATable}

Remote Train Operations (RTO), as discussed in this paper, is a part of stage GoA~3 as a disruption management handling system and as a safety system for GoA~4 if it were to fail. \cite{brandenburger2023vqreactiontimertc}

GoA also changes and updates regularly because of new technology added that shifts the definition. The figure below is UITP's definition of how GoA is graded.
 \begin{figure}[H]
    \centering
    \includegraphics[width=0.7\textwidth]{Images/GoA from UITP.png}
    \caption[GoA]{UITP's simple definition of GoA}
    \source{\cite{uitp2018metro}}
  \end{figure}

The formal definitions and required functions per level are described in IEC 62290 and discussed in CBTC Solutions as well as UITP \cite{iec62290,cbtc_goa,uitp2018metro}.


\subsection{ERTMS}
The European Rail Traffic Management System (ERTMS) is the standardized signalling and control framework developed to improve interoperability, safety, and capacity across European railways. Its introduction replaces diverse national signalling systems with a unified architecture consisting primarily of the European Train Control System (ETCS) and a digital radio communication layer (GSM-R, and in the future FRMCS). According to the European Union Agency for Railways, ERTMS is designed to harmonize train control and supervision across borders while enabling higher automation levels and modern traffic management solutions. \cite{era_ertms}

The shift toward ERTMS is the result of decades of signalling evolution from mechanical and relay-based interlocking to computer-based systems. Early interlocking systems (mechanical, relay, and later electronic) require local signal interpretation and fixed block sections, limiting both network capacity and flexibility. \cite{holter2025ertmshistory}

ERTMS is built around ETCS, which operates in multiple “levels” depending on how information is transmitted.
\begin{enumerate}
  \item \textbf{Level 1:} Uses Eurobalises for spot transmission and may coexist with lineside signals.
  \item \textbf{Level 2:} Adds a continuous data connection via GSM-R to a Radio Block Centre (RBC), removing dependence on optical signals and enabling real-time supervision.
  \item \textbf{Level 3:} Removes track-based train detection and relies on train integrity confirmation, reducing infrastructure needs.
\end{enumerate}
 
Norway's national program adopts ERTMS Level 2 across the entire network, using axle counters as train detection and preparing for future migration to Level 3. The system architecture in the Bane NOR program material shows a fully digital backbone connecting interlockings, RBCs, the Traffic Management System (TMS), and onboard ETCS equipment. \cite{holter2025ertmsprogramme}


\subsection{ETCS}
The European Train Control System (ETCS) is a signalling and train protection element developed and included in the ERTMS initiative. ETCS provides movement authorities and intermittently or continuously supervises train speed and braking to ensure safe train separation. It replaces or complements national trackside signals by delivering standardized information to onboard equipment, enabling safer and more interoperable cross-border operation \cite{era_ertms,eu_etcs_levels}.

\subsubsection{Levels} 
ETCS is commonly described with levels that express how information is exchanged:
\import{./Tables/}{ETCSItems}

\subsubsection{Modes}
ETCS defines different operational modes such as Full Supervision, On-Sight, Staff Responsible, Shunting, and Automatic Driving. Modes determine how the onboard equipment supervises movement authority and interacts with ATO where present. Automatic Driving mode is used when conditions for ATO are satisfied and ETCS provides the required movement and track data while Full Supervision is when ETCS is supplied with all possible train and track data needed \cite{eu_etcs_levels}.


\subsection{Cellular communications}
A very import part of latency for operating a train remotly will be cellular communication. It is extremly vital to have a stable and good source of communication between the remote operator and the train. 

\subsubsection{5G URLLC}
%BONUS KILDE: Toward ultrareliable low-latency communications: Typical scenarios, possible solutions, and open issues
5G is built up by OFDM, Orthogonal Frequency Division Multiplexing wich divides "Spectrum" into small subcarriers. 5G is designed to support three different service categories, one of which is Ultra-Reliable and Low-Latency Communications (URLLC). URLLC is a communication service characterized by the need to successfully deliver packets with strict requirements in terms of availability, latency, and reliability. This capability is essential for providing connectivity to new services and applications from vertical domains, such as autonomous driving and factory automation. \cite{akhila20235g, li20185g}

URLLC could be crucial for supporting emerging applications like wireless control and automation in industrial factory environments. For the specific use case of Remote Control, the required key performance indicators are an end-to-end latency of 5 ms and a reliability of 99.999\%. Remote control applications often involve closed-loop control applications, like the use of collaborative robots in a factory, which require URLLC services. \cite{akhila20235g, li20185g}

\subsubsection{GSM-R}
The Global System for Mobile Communications - Railway (GSM-R) serves as the unified radio communication platform for ERTMS, designed to take over from incompatible legacy analog systems with a standardized digital solution. Its operation is crucial for the railway system as it functions as the essential data carrier for ETCS, facilitating the continuous and real-time supervision of the train movement. \cite{sniady2012gsmr, he2016gsmr}

GSM-R is built upon the commercial GSM standard, the system operates within a dedicated harmonized frequency band, with 876-880 MHz uplink and 921-925 MHz downlink, and utilizes a linear network of base stations to ensure continuous connectivity for trains traveling at speeds up to 500 km/h. 
GSM-R employs Time Division Multiple Access (TDMA) to organize radio resources and primarily relies on circuit-switched connections to guarantee dedicated bandwidth for critical transmissions. \cite{sniady2012gsmr, he2016gsmr}

\subsubsection{FRMCS}
FRMCS or Future Railway Mobile Communication System is product of International Union of Railways (UIC) to find a successor for GSM-R as it was getting older. FRMCS is built upon 3GPP standards with 5G URLLC and other more modern techonology. FRMCS is set to replace GSM-R as the unified radio communication for ERTMS and will be a huge part of the future of railway technology.\cite{uic_frmcs, mandoc2019erauicfrmcs}

\textit{3GPP Rel-16} define video quality for railway operations. And is already used for setup of remote control by CAF. Mejias mention that the minimum requirments mentioned int the report is of H.264 codec, 320x240 resolutuion at 10 fps, but a recommended 1920x1080 at 30 FPS \cite{mejias2024}. This will evolve as we get closer to acquiring FRMCS in the system used today.

\subsubsection{Wi-Fi}
Wi-Fi is a wireless communication technology following the standars of IEEE 802.11 that enables data transmission across networks. It operates across specific frequency bands such as 2.4 GHz and 5 GHz and the technology has evolved to support high speed data transfer and robust connectivity through advanced methods like beamforming, which strengthens wireless connections by targeting specific devices rather than broadcasting signals. \cite{amador2022wifi, pandey2022wifi}

In the domain of vehicular control, Wi-Fi functions by establishing Local Area Networks (LAN) that allow for the secure transmission of real-time control commands and audiovisual feeds, demonstrating in some specific single-access point configurations a lower median latency compared to LTE and 5G cellular networks. Although primarily associated with general data networking, the principles of Wi-Fi signal extension are relevant to railway logistics with the concept of relay chains. Wireless networks can employ repeating nodes to extend the operational range of remote monitoring and control systems to trains far away from the operator. \cite{amador2022wifi, pandey2022wifi}

\subsection{ERTMS/ATO}
Because of the international rollout of ERTMS, ATO will have to follow along. ERA has designed a solution to have an integrated ERTMS/ATO solution as you can see in the figure below. It showcase how ETCS can be independent, but for ATO to be operational it is crucial for ETCS to garantee safety.
\begin{figure}[H]
    \centering
    \includegraphics[width=0.5\textwidth]{Images/ERTMS-ATO solution.png}
    \caption[ERTMS/ATO solution]{Architecture of ERA's ERTMS/ATO solution}
    \source{\cite{era_ertms}}
\end{figure}
Showcasing different ATO working togheter with different responsibility and how they communicate with eachoter \cite{era_ertms}.

\subsection{Latency}
Latency is the time delay between when a command or data packet is sent and when it is received or acted upon. In railway automation, latency is critical for control loops, including brake initiation following an emergency command, and for ensuring the onboard ATO and remote systems remain synchronized. 

The impact of latency, such as excessive one-way delay or variable delay can degrade braking calculations, delay alarm propagation, and reduce the margin available for safe intervention. For real-time safety commands systems are designed with strict latency and reliability budgets and use prioritized and redundant communication channels.

\subsubsection{Latency Measurements}
There is many ways to measure and structure latency. Some of the most commonly referred to are:
\import{./Tables/}{HowToMeasure}

Following the different structure of latency measurements, there is different protocols and methods to get these measurements. Many have been posted and created through Request for Comments (RFC) which is a series of publications from Internet Engineering Task Force (IETF) and other institutions working on standardization of the web. Many of these RFC's has been backed further by institutions as International Telecommunication Union (ITU) and Institute of Electrical and Electronics Engineers (IEEE). \cite{itu_g1051,techtarget_rfc_definition}.

\textit{Table these protocols to match structure above}
Internet Control Message Protocol (ICMP): With ICMP we can use two effective methods, Ping and Traceback. Both return the Round-Trip Time(RTT) latency but in different ways. Ping sends data packets to a specified destination, and report the time it takes before a the same data packets is received. Traceback also sends data packets waiting for return, but tracks routes and notifies if certain routes use to long time. \cite{dns_latency_protocols}.

Two-Way Active Measurement Protocol (TWAMP) and One-Way Active Measurement Protocol (OWAMP): Protocols designed for measuring one-way and two-way latency, often used in network performance testing. \textit{Needs more depth} \cite{itu_g1051}.

\textit{Need more protocols we can use}



Test tools. Measurements are typically expressed in milliseconds and include metrics for delay variation and loss.


\subsection{Regulations}
\textit{Check master til Emilia om hva hun found av rules}

Railway automation must satisfy national and EU regulatory frameworks. In the EU, the \textit{Technical Specifications for Interoperability} (TSIs) notably the Control-Command and Signalling (CCS) TSI define safety and interoperability requirements for ETCS, ATO interfaces and signalling subsystems. The European Union Agency for Railways (ERA) provides technical guidance, variables coordination and ERTMS documentation \cite{era_tsi,era_ertms}. 

National authorities, for example the Norwegian Railway Directorate and the Norwegian Railway Authority, implement national legislation, issue national safety rules, and specify how EU TSIs map to national processes where operators must demonstrate compliance with both national rules and applicable TSIs for approval and operation \cite{sjt_regulations,banenor_network}. For freight ATO trials (such as ATO-Cargo), project teams must prepare evidence on safety, human factors (remote supervision ergonomics), communication performance and conformity with the CCS TSI and national rules before trials are permitted \cite{dlr2025atocargo,era_tsi}.

From ERA's \cite{era_ertms} rules about during ATO operation, it shall be possible to: 
\begin{enumerate}
\item Supervise train location by monitoring trains automatically using train identification and status (including delay information) to recognise deviations from normal operation as soon as possible; 
\item Input the journey profile from the planning system; 
\item Start the journey profile; 
\item Dynamically modify the journey profile in real time to take account of changes in operating conditions including: disruption management; re-routing; re-timing. 
\item Adapt the trail's journey profile to meet any update of the operational timetable; 
\item Regulate trains to avoid bunching of trains and to reduce delays to trains in the case of disturbances; 
\item Dispatch ATO trains to harmonise the starting of ATO trains, corresponding to results of train regulation and ensuring connecting services; 
\item Operate both ATO and non-ATO trains simultaneously; 
\end{enumerate}

A way to guarantee these rules are followed and maintained is to implement a safety for when ATO is not working like intended, demanding a downgrade either to manual and physical steering or a option of remote control.

%cspell:words Sporveien Trikken Dato 
\subsubsection{WP41 - Validation Criteria Tramways}
WP41 is a deliverable by FP2R2DATO which is a collection of test cases and validation criteria for remote driving of tramways. It is delivered by Sporveien Trikken AS with the assistance of CAF, UITP and FP2R2Dato in the Europe's Rail program and contains detailed plan and procedures for testing remote control of tramways. Which includes functionality of electric circuits implemented, TCMS, CERES actions, and safety supervision. Its a standardisation for defining Key Performance indicators and how they should be measured including: Solution QoE (1-5), Image Quality (1-5), Image latency (ms), Availability (Failure rate). Since remote control will come in the light and collaboration with Europe's Rail program. A similar design validation criteria should be expected and produced for railway infrastructure as well, which makes the WP41 a good resource on possible future regulations for RTO.
\cite{fp2r2dato2023d41_1}

\subsubsection{3GPP TS 22.289}
3GPP TS 22.289 is a technical specification report. Completed by 3GPP in the works with UIC and European Telecommunications Standards Institute (ETSI), which among other list performance requirements for main lines\cite{uic_frmcs,3gppts22289}. These requirements are set to ensure safe and good communications for the future of railway, but as mentioned in the report it is of now only target values. GoA3 and GoA4 is mentioned with the necessary high level of communications needed for operation. Here they also mention video-based remote control as a part of GoA3/GoA4 and put them in the same category for "Very Critical Video Communication". 

Relevant information from table in 3GPP TS 22.289 about requirements for FRMCS can be seen in Table \ref{tab:Regulations}
\import{./Tables/}{Regulations3GPP}

In the table we can see end to end latency being mentioned, and they have defined it as the same as G2G \cite{3gppts22289}, measured at the communication interface, from the moment it is transmitted by the source to the moment it is successfully received at the destination.

The work of 3GPP, TS 22.289, is not yet considered in ERA's TSI CCS and therefore not completely applied. Yet it is still to be expected to be the regulations of future work and something to keep in mind under future development. \cite{era_tsi}